title "SiC 8 atom cubic cell"

start SiC

memory global 12 mb stack 12 mb heap 15 mb

geometry units au noautosym noprint
Si    -0.50000  -0.50000  -0.50000
Si     0.00000   0.00000  -0.50000
Si     0.00000  -0.50000   0.00000
Si    -0.50000   0.00000   0.00000
C     -0.25000  -0.25000  -0.25000
C      0.25000   0.25000  -0.25000
C      0.25000  -0.25000   0.25000
C     -0.25000   0.25000   0.25000
end


#******* Generate a Pseudopotential for Silicon **********************
PSPW 
   PSP_GENERATOR                       
      pseudopotential_filename: Si.psp  # Si.psp is the name of the datafile
                                        # generated

      element: Si                       # label used for the carbon atom
      charge: 14.0                       # nuclear charge of carbon atom
      mass_number: 28.0                 # mass (a.u.) of carbon atom
      solver_type: pauli                # Pauli or Schrodinger op
      pseudopotential_type: hamann      # Hamann and Troullier-Martins options 
      #exchange_type: pbe96              # dirac and pbe96 options
      #correlation_type: pbe96           # vosko and pbe96 options

      atomic_filling: 3 2   # Ncore and Nvalence states
        1 s 2.0             # core state  1s^2
        2 s 2.0             # coren state 2s^2
        2 p 6.0             # coren state 2p^2
        3 s 2.0             # valence state 3s^2
        3 p 2.0             # valence state 3p^2
   END
END
#******* Generate a Pseudopotential for Carbon  **********************
PSPW 
   PSP_GENERATOR                       
      pseudopotential_filename: C.psp   # C.psp is the name of the datafile
                                        # generated

      element: C                        # label used for the carbon atom
      charge: 6.0                      # nuclear charge of carbon atom
      mass_number: 12.0                 # mass (a.u.) of carbon atom
      solver_type: pauli                # Pauli or Schrodinger op
      pseudopotential_type: hamann      # Hamann and Troullier-Martins options 
      #exchange_type: pbe96              # dirac and pbe96 options
      #correlation_type: pbe96           # vosko and pbe96 options

      atomic_filling: 1 2   # Ncore and Nvalence states
        1 s 2.0             # core state    1s^2
        2 s 2.0             # valence state 2s^2
        2 p 2.0             # valence state 2p^2
      cutoff: 3   # number of cutoff values
         s 0.80   # cutoff value for Vs
         p 0.85   # cutoff value for Vp
         d 0.85   # cutoff value for Vd

   END
END


 #**** define a simulation cell ****
PSPW
   SIMULATION_CELL
      cell_name: small
      boundry_conditions: periodic
      lattice_vectors:
         8.277  0.000  0.0 00
         0.000  8.277  0.000
         0.000  0.000  8.277
      ngrid: 16 16 16
   END
   FRACTIONAL_TO_CARTESIAN: small
END


#******* Generate a Formmatted pseudopotential for silicon *****
PSPW
   PSP_FORMATTER
      cell_name: small
      psp_filename: Si.psp
      formatted_filename: Si.vpp
   END
END
task pspw psp_formatter

#******* Generate a Formmatted pseudopotential for carbon *****
PSPW
   PSP_FORMATTER
      cell_name: small
      psp_filename: C.psp
      formatted_filename: C.vpp
   END
END
task pspw psp_formatter


#******* Generate a initial wavefunction based on planewaves ****
PSPW
   WAVEFUNCTION_INITIALIZER
      restricted
      up_filling: 16
               0 0 0     0
               1 0 0    -1
               0 1 0    -1
               0 0 1    -1
               1 0 0    +1
               0 1 0    +1
               0 0 1    +1
               1 1 0    -1
               1 0 1    -1
               0 1 1    -1
               1 1 0    +1
               1 0 1    +1
               0 1 1    +1
               2 0 0    -1
               0 2 0    -1
               0 0 2    -2
      wavefunction_filename: SiC.movecs
      cell_name: small
   END 
END
task pspw wavefunction_initializer

#***** do coarse optimization with steepest descent ********
PSPW
   STEEPEST_DESCENT
      cell_name: small
      formatted_filename: Si.vpp
      formatted_filename: C.vpp
      input_wavefunction_filename:  SiC.movecs
      output_wavefunction_filename: SiC.movecs
      fake_mass: 400000.0d0
      time_step: 51.8d0
      loop: 100 10
      tolerances: 1.0d-9 1.0d-9 1.0d-4
      #exchange_correlation: pbe96
      ewald_ncut: 8
   END 
END
task pspw steepest_descent

#***** Setup conjugate gradient code ****
PSPW
   CONJUGATE_GRADIENT
      cell_name: small
      formatted_filename: Si.vpp
      formatted_filename: C.vpp
      input_wavefunction_filename:  SiC.movecs
      output_wavefunction_filename: SiC.movecs
      fake_mass: 400000.0d0
      time_step: 51.8d0
      loop: 15 10
      tolerances: 1.0d-9 1.0d-9 1.0d-4
      #exchange_correlation: pbe96
      ewald_ncut: 8
   END 
END
task pspw conjugate_gradient
task pspw conjugate_gradient
task pspw steepest_descent
task pspw conjugate_gradient
task pspw steepest_descent



#***** do geometry optimization with steepest descent ********
PSPW
   STEEPEST_DESCENT
      geometry_optimize
      cell_name: small
      formatted_filename: Si.vpp
      formatted_filename: C.vpp
      input_wavefunction_filename:  SiC.movecs
      output_wavefunction_filename: SiC.movecs
      fake_mass: 400000.0d0
      time_step: 5.8d0
      loop: 10 1000
      tolerances: 1.0d-9 1.0d-9 1.0d-4
      #exchange_correlation: pbe96
      ewald_ncut: 8
   END 
END
task pspw steepest_descent

