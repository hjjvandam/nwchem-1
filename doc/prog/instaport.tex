\label{sec:install}

This chapter contains guidance on how to obtain a copy of NWChem and
install it on your system.  If you are very lucky you will be working
at EMSL, and will have the assistance of friendly colleagues who have
done this before, will know how to fix the process when it breaks,
and will know what has changed since the last time the documentation
was updated.
If you are not so lucky and are located off-site, you will at least have
access to a sympathetic EMSL-based collaborator and help from NWChem 
support via e-mail at {\tt nwchem-support@emsl.pnl.gov}.

The following subsections discuss some of the important considerations
when installing NWChem, and provide information on environmental
variables, libraries, and makefiles needed to run the code.

\section{How to Obtain NWChem}

The NWChem source code tree current release is version 3.3.1.  All code versions, alpha and
beta, are available only to formal EMSL collaborators\footnote{For information on
how to become an EMSL collaborator, visit the EMSL Homepage at 
\verb+http://www.emsl.pnl.gov:2080/+.} with specific
needs for the software.  (This generally means an interest in developing
parallel computational chemistry software within or around NWChem, and
access to appropriate parallel computing resources.)

The NWChem source code tree (including source code or binaries only, at the
users discretion) can be downloaded from the NWChem homepage 

\begin{verbatim}
     http:\\www.emsl.pnl.gov:2080/docs/nwchem
\end{verbatim}

This can be done by clicking on the hot link "Download the NWChem Software" and following the
instructions as they appear.  This will work, however, only if you have
a signed user agreement
with EMSL, and have been issued a user name and password.  If you have any problems
using the WWW pages or forms, or getting access to the code, send e-mail to
{\tt nwchem-support@emsl.pnl.gov}.

\section{Supported Platforms}
\label{sec:platforms}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% NOTE: this section is adapted from the current (as of 10/15/98) version of
% the script INSTALL for NWChem, in the in the CVS repository.  If INSTALL
% has been updated since, this section should be updated, too.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
NWChem is readily portable to essentially any sequential or parallel computer.  
The source code currently contains options for versions that will run
on the following platforms.

\begin{verbatim}

    Symbolic
      Name     Platform               OS/Version    Precision
    ----------------------------------------------------------
    SUN         Sun                    SunOS        double
    SOLARIS     Sun                    Solaris 2.X  double
    IBM         IBM RS/6000            AIX 3.x 4.s  double
    DECOSF      DEC AXP                OSF/1        double
    SGI         SGI 32 bit os          IRIX 5.x 6.x double
    SGITFP      SGI 64 bit os          IRIX         double
    SGI_N32     SGI 64 bit os          IRIX         double 
                using 32 ints
    CRAY-T3D    Cray T3D               UNICOS       single
    CRAY-T3E    Cray T3E               UNICOS       single
    PARAGON     Intel Paragon          OSF/1        double
    DELTA       Intel Delta            NX           double
    SP1         IBM SP1,SP2            AIX          double
    ----------------------------------------------------------

\end{verbatim}
The environment variable {\tt NWCHEM\_TARGET} must
be set to the symbolic name
that matches your target platform.  For example, if you are installing
the code on an IBM SP1 or SP2, the command is

\begin{verbatim}
       % setenv NWCHEM_TARGET SP1
\end{verbatim}

Refer to Section \ref{sec:envar} for additional discussion of environmental variables
required by NWChem.

\subsection{Porting Notes}
\label{sec:PortingNotes}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% NOTE: this section is adapted from the current (as of 9/29/98) version of
% the file Porting.notes, from ~/doc/ in the CVS repository.  If Porting.notes
% has been updated since, this section should be updated, too.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

While it is true that NWChem will run on {\em almost} any computer, there are always
a few jokers in the deck.  Here are some that have been found, and were
considered sufficiently amusing to be documented.

\begin{itemize}
\item from the Intel Paragon OSF/1 R1.2.1 (discovered 16 July 1994 by DE Bernholdt);
PGI's compilation system is braindamaged in some fascinating ways:
\begin{enumerate}
\item cpp860 by default defines {\tt \_\_PARAGON\_\_} and other things, as stated in
   the {\tt man} page, but when invoked by {\tt if77}, these things are {\em not} defined.
\item ld's -L prepends directories to the search path instead of
   appending, as is done in almost every other unix compiler package
\end{enumerate}

\item from the HP-UX 9000/735, also some others (reported 08 Feb 1996 by Jarek Nieplocha):

\begin{enumerate}
\item Avoid the "free" HP C compiler - use gcc instead:
HP cc does not generate any symbols or code for several routines in one of
the GA files. To make the user's life more entertaining, there are no 
warning or error messages either -- compiler creates a junk object file
quietly and pretends that everything went well.
(Karl Anderson says: "(HP) cc is worth every penny you paid for it.")

\item {\tt fort77} instead of {\tt f77} should be used to link fortran programs, since 
{\tt f77} doesn't support the {\tt -L} flag. Fortran code should be compiled with the 
{\tt +ppu} flag that adds underscores to the subroutine names.
\end{enumerate}

\end{itemize}


NWChem can be compiled to use MPI instead of TCGMSG for message
passing on many systems. Although this is still somewhat
experimental and not particulary well tested, it can be done.
Contact \verb+nwchem-support@emsl.pnl.gov+ for assistance with this
procedure.  

\section{Environmental Variables}
\label{sec:envar}

This section is a place-holder for the list of environmental variables.
