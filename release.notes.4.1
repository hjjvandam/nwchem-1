NWChem Version 4.1 Release Notes
(Also available at 
http://www.emsl.pnl.gov/pub/docs/nwchem/support/release.4.1.html)

NOTE: These release notes are not a substitute for reading the User Manual!
They are meant to give a thumbnail sketch of the new capabilities and bug
fixes that are available in NWChem Version 4.1. When there is a conflict
between the release notes and the User Manual, the User Manual takes
precedence. 

The changes for version 4.1 are listed at the bottom of this file.

Several new major capabilities are available in NWChem, including several new
modules. The new modules are: 

  o HESSIAN: This module controls the analytic hessian calculation
  o DIRDYVTST: The DIRect Dynamics for Variational Transition State Theory
  o BAND: Prototype Band structure code
  o 
  o 

For each of these capabilities, the user is referred to the User Manual for more
information. 

Additional major additions to the capabilities include: 

  o The AUTOSYM directive in the GEOMETRY group is now ON by default.
  o NBO 5.0 is now available.
  o A limited memory BFGS minimization has been added to the PSPW code.
  o 
  o 

Again, for each of these capabilities, the user is referred to the User Manual 
for more information. 

Listed below are the other major and many minor changes for each module
with significant changes. These descriptions are somewhat terse and more
information is generally available in the User Manual. 

Note: Due to changes in the runtime database structure, \verb+RESTART+
will not work on database files generated by NWChem versions 4.0.1 and 
older.

Top level directives:

  o BUG FIX: Problems on some platforms with a title longer than 80
    characters has been fixed.
  o BUG FIX: TASK SHELL now returns properly for DECOSF.
  o 

Initial orbital Guess: 

  o 
  o 
  o 

Basis Sets: 

  o The "*" tag is introduced in the basis set input block to increase the user
    flexibility and ease when creating the basis set input. When a star tag is 
    used the code will use the geometry and assign the basis set defined
    at the star tag line to all atoms in the geometry. In addition an "except" 
    keyword is introduced. Other new tags possibe are bq* and <tag string>*.
  o Basis set library file has been split into one file per basis set to allow
    for easier access. These files are located in the directory "libraries".

Geometry: 

  o The AUTOSYM directive has been improved and is now ON by default.
  o 
  o 

DFT: 

  o BUG FIX: DFT Open-shell calculations with the Exchange functions xpbe96
    and xperdew91 now give correct gradients.
  o BUG FIX: Restart calculations now work under NQE or NQS.
  o BUG FIX: DFT calculations now work when the molecule contains ghost atoms.
  o BUG FIX: Bug introduced in 4.0.1 which produced nonsense numbers for
    very large SCF and DFT calculations has been fixed.
  o BUG FIX: Convergence of COSMO for UDFT has been improved.
  o KNOWN BUG: In a sequence of calculations in one input deck (using
    the same geometry and basis set) if the Hamiltonian gets changed (by
    adding relativistic operators or COSMO) in the subsequent calculation
    the vectors are assumed to be converged. This is not correct as the 
    Hamiltonian changed. 

SCF: 

  o BUG FIX: Bug introduced in 4.0.1 which produced nonsense numbers for
    very large SCF and DFT calculations has been fixed.
  o KNOWN BUG: In a sequence of calculations in one input deck (using
    the same geometry and basis set) if the Hamiltonian gets changed (by
    adding relativistic operators or COSMO) in the subsequent calculation
    the vectors are assumed to be converged. This is not correct as the 
    Hamiltonian changed. 

COSMO:
  o BUG FIX: Make COSMO gradients always go numerically.

Driver: 

  o BUG FIX: Insufficient internal variable errors have been minimized.
  o 
  o 

Properties: 

  o BUG FIX: Segmentation violations in large property calculations have been
    fixed.
  o 
  o 

MP2: 

  o 
  o 
  o 

MCSCF:

  o BUG FIX: bjg_get_scf_method error has been eliminated.

Hessian and Frequencies: 

  o 
  o 
  o 

PSPW:

  o Improved user interface
  o Conjugate gradient optimization has been improved.
  o Psuedopotential library
  o Automated psuedopontential formatting
  o Automated wavefunction initial guess, now with LCAO
  o Automated conversion between small and large plane-wave expansions
  o Fixed atoms in cartesian and SHAKE constraints in Car-Parrinello
  o Polarization through the use of point charges
  o DPLOT available during Car-Parrinello simulations
  o BUG FIX: Ewald sum for irregular shaped unit cells is now correct.

Prepare:

  o 
  o 
  o 

MD: 

  o 
  o 
  o 

Analysis:

  o 
  o 
  o 

Integral changes: 

  o Third-order Douglas-Kroll (DK3) integrals have been added.
  o 
  o 

Relativistic:
 
  o Various levels of third-order Douglas-Kroll have been added.
  o BUG FIX: Spin-orbit gradient crashes have been fixed.

DPLOT:

  o BUG FIX: Vectors directive now picks up the vectors correctly.
  o BUG FIX: Negative spin densities are now correctly calculated for
    DFT wavefunctions.
  o 

Tests, manuals and misc script changes: 

  o Updated User's Manual to reflect new and modified functionality in
    NWChem. 
  o QA tests have been updated to reflect the new functionality.
  o contrib/getmem.nwchem script bugs have been fixed.
  o The program contrib/hessian/makerestart has been added to create the
    *.fdrst file from the *.hessian and *.fd_ddipole files for numerical
    hessian restarts.
  o 

Tools:
  o BUG FIX: MPICH does not cause segmentation violations with RedHat 7.1.
  o BUG FIX: Parallel hangs have been fixed.

Installation availability: 

The current tested platforms and O/S versions are: 

  o IBM SP with P2SC nodes, AIX 4.3.2, and PSSP 3.1
  o IBM SP with silver nodes (SMP nodes with two 604e processors), AIX
    4.3.2, and PSSP 3.1. 
  o IBM SP with Power 3 nodes (SMP nodes with four processors), AIX 4.3.2
    and PSSP 3.1
  o IBM RS6000 workstation, AIX 4.1 and 4.3 
  o Cray T3E, 2.0.4.61 UNICOSMK 
  o SGI R8000/10000/12000 IRIX 6.5 
  o SUN workstations Solaris 5.6 
  o Compaq DEC alpha workstion (600 MHz EV6), Tru64 V4.0 and V5.0,
    DEC C V5.8-009, Digital Fortran V5.2 
  o Linux with Intel x86 cpus. Since there are at least 8 popular
    distributions of the Linux operating system and numerous others in
    existence, including downloading everything and building your own Linux OS,
    it is impossible to test all possible versions of Linux with NWChem.
    NWChem Release 4.0 has been tested on, RedHat 6.0 and 6.2, Debian 2.2.1,
    Suse 6.4, TurboLinux 6.04, Mandrake based on RedHat 6.0, FreeBSD 4.1.4,
    and RedHat 6.0 for the Power PC Macintosh. These all use the EGCS 
    compilers at different levels. However, the Portland Group Compiler has 
    been tested in a less robust manner.
  o Linux with Alpha cpus has been tested with RedHat 6.1 and 6.2.
    Usage of the Compaq Fortran and C compilers is necessary for compiling.
  o HP 9000/800 workstations with  HPUX B.11.00. f90 must be used for
    compilation.
  o Intel x86 with Windows 98 and NT has been tested with Compaq Visual Fortran
    6.0 and 6.1 with WMPI 1.3 or NT-Mpich.

A general FAQ is available at 
http://www.emsl.pnl.gov:2080/docs/nwchem/support/NWChem_FAQ.html

A list of Known Bugs is available at
http://www.emsl.pnl.gov:2080/docs/nwchem/support/known_bugs.4.1.html

